import PIL
from PIL import Image
from functools import reduce


def pixelate(
        image: PIL.Image,
        intensity: int = 1
    ) -> PIL.Image:
    """
    Makes the image pixelated, keeps the original resolution.
    :param image: pillow image
    :param intensity: how pixelated the image will be
    :return: pillow image
    """

    size = image.size
    image = image.resize((image.width // intensity, image.height // intensity))
    image = image.resize(size, resample=Image.NEAREST)
    return image


def find_nearest(sample: tuple[int], palette: list[tuple[int]]) -> tuple[int]:
    closest = sample
    smallest_difference = 255 * 4
    for color in palette:
        difference = 0
        for i, v in enumerate(color):
            difference += abs(v - sample[i])

        if difference < smallest_difference:
            closest = color
            smallest_difference = difference

    return closest


class Palettes:
    RED_DARK_BLUE = [(255, 23, 68), (245, 23, 67), (235, 23, 65), (225, 23, 63), (215, 23, 61), (205, 23, 63), (195, 23, 63), (185, 23, 64), (175, 23, 64), (165, 23, 63), (155, 23, 63), (145, 23, 63), (135, 23, 62), (125, 23, 62), (115, 23, 61), (105, 23, 61), (95, 23, 61), (85, 23, 61), (75, 23, 61), (65, 23, 61), (55, 23, 61), (45, 23, 61), (35, 23, 61), (25, 23, 61), (15, 23, 61)]
    GRAY_WHITE = [(0, 0, 0), (43, 43, 43), (66, 66, 66), (89, 89, 89), (117, 117, 117), (122, 122, 122), (161, 161, 161), (216, 216, 216), (245, 245, 245)]
    PASTEL_GREEN_BLUE = [(222, 255, 209), (189, 255, 186), (156, 255, 177), (134, 250, 192), (111, 229, 183), (96, 209, 193), (80, 169, 183), (68, 122, 161), (61, 94, 144), (52, 66, 129), (49, 44, 112), (48, 35, 95), (44, 25, 69), (32, 15, 42)]
    ORANGE_PINK = [(179, 93, 168), (179, 93, 166), (179, 93, 164), (181, 95, 166), (180, 95, 163), (181, 96, 163), (182, 97, 162), (182, 96, 161), (181, 99, 161), (183, 99, 161), (182, 101, 160), (182, 101, 159), (186, 103, 157), (183, 103, 156), (184, 104, 155), (185, 105, 155), (186, 107, 154), (185, 108, 152), (186, 109, 153), (188, 109, 154), (187, 111, 150), (186, 110, 149), (187, 111, 149), (189, 113, 149), (188, 112, 148)]
    IDKLOOKSGOOD = [(177, 139, 139), (27, 26, 29), (243, 216, 216), (53, 52, 65)]
    IDKLOOKSGOOD2 = [(118, 68, 98), (169, 104, 104), (237, 180, 161), (44, 33, 55)]
    GENERAL = [(33, 25, 25), (121, 112, 126), (160, 179, 53), (234, 219, 116), (138, 107, 62), (148, 91, 40), (66, 60, 86), (83, 124, 68), (107, 185, 182), (184, 170, 176), (82, 58, 42), (251, 250, 249), (7, 5, 5), (89, 111, 175), (193, 156, 77)]
    SIMPLE_YELLOW_BLUE = [(237, 255, 177), (22, 135, 167), (31, 213, 188), (49, 31, 95)]
    RANDOM_ONE = [(79, 34, 60), (101, 92, 119), (201, 187, 214), (162, 77, 135), (75, 60, 89), (33, 28, 49), (193, 174, 204), (59, 44, 72), (166, 154, 180), (120, 110, 137), (73, 52, 92), (43, 34, 54), (161, 90, 142), (127, 109, 143), (101, 85, 116), (82, 62, 100), (152, 53, 116), (127, 113, 113), (120, 103, 134), (135, 50, 106), (67, 45, 92), (69, 50, 82), (54, 37, 52), (189, 174, 67), (78, 60, 90), (84, 35, 55), (45, 27, 49), (32, 27, 37), (118, 109, 77), (134, 124, 146), (74, 67, 80), (48, 43, 53), (39, 26, 42), (185, 183, 103), (86, 64, 115), (70, 52, 81), (112, 103, 121), (86, 79, 94), (79, 58, 106), (109, 91, 123), (96, 79, 57), (66, 57, 74), (40, 33, 47), (90, 73, 104), (64, 49, 77), (100, 82, 116), (96, 37, 60), (33, 24, 33), (146, 41, 107), (74, 43, 109), (125, 107, 139), (61, 37, 79), (47, 35, 58), (164, 153, 176), (171, 154, 187), (42, 26, 37), (108, 93, 120), (33, 28, 39), (47, 36, 59), (167, 155, 183), (42, 38, 47), (41, 36, 62), (62, 36, 87), (104, 93, 71), (109, 87, 130), (83, 63, 103), (179, 177, 101), (104, 87, 113), (49, 31, 58), (42, 33, 53), (92, 73, 110), (136, 49, 105), (123, 43, 75), (106, 73, 126), (45, 27, 39), (112, 44, 84), (175, 162, 189), (29, 23, 33), (50, 31, 62), (35, 25, 39), (54, 29, 43), (92, 74, 111), (82, 61, 102), (111, 94, 58), (188, 175, 200), (38, 32, 45), (46, 32, 58), (107, 98, 123), (98, 89, 116), (98, 81, 112), (57, 51, 63), (44, 27, 48), (45, 34, 55), (57, 29, 44), (135, 124, 144), (80, 68, 89), (55, 29, 51), (38, 25, 41), (72, 58, 86), (132, 120, 113), (97, 83, 109), (66, 31, 48), (64, 31, 55), (65, 59, 85), (80, 69, 90), (117, 99, 135), (90, 77, 100), (132, 120, 149), (111, 70, 123), (48, 37, 62), (63, 48, 76), (78, 58, 105), (128, 112, 60), (108, 99, 126), (128, 118, 140), (154, 142, 167), (108, 91, 122), (215, 200, 228), (189, 176, 201), (89, 81, 107), (97, 78, 115), (89, 73, 103), (125, 106, 142), (161, 144, 178), (40, 32, 49), (141, 30, 99), (92, 84, 110), (112, 103, 124), (91, 72, 111), (48, 30, 58), (164, 152, 178), (104, 75, 128), (91, 71, 115), (77, 61, 90), (51, 37, 63), (63, 45, 79), (80, 60, 98), (36, 31, 41), (50, 44, 71), (189, 173, 204), (76, 33, 59), (108, 87, 129), (146, 133, 162), (51, 38, 64), (148, 117, 153), (95, 81, 106), (122, 112, 139), (129, 65, 110), (92, 36, 74), (46, 40, 52), (170, 167, 97), (78, 34, 53), (64, 44, 86), (76, 58, 88), (105, 90, 117), (122, 113, 140), (87, 36, 57), (122, 105, 136), (198, 183, 68), (96, 42, 82), (51, 34, 66), (95, 77, 108), (69, 53, 81), (82, 64, 102), (84, 61, 113), (35, 29, 40), (149, 56, 96), (171, 159, 182), (91, 83, 102), (84, 62, 114), (46, 36, 59), (132, 122, 149), (152, 141, 163), (114, 95, 130), (188, 174, 202), (52, 38, 65), (90, 36, 58), (97, 89, 115), (123, 105, 138), (97, 81, 111), (108, 99, 116), (85, 64, 103), (95, 73, 115), (99, 38, 62), (172, 98, 151), (56, 29, 43), (81, 74, 99), (78, 39, 81), (120, 63, 117), (37, 25, 40), (56, 40, 52), (203, 187, 217), (82, 75, 88), (92, 84, 100), (106, 91, 118), (155, 144, 171), (102, 91, 70), (44, 30, 56), (39, 34, 60), (179, 166, 193), (106, 43, 83), (84, 66, 97), (70, 38, 80), (137, 48, 86), (70, 49, 89), (60, 51, 67), (120, 42, 71), (117, 65, 118), (103, 84, 120), (84, 40, 81), (77, 45, 113), (109, 92, 58), (223, 209, 70), (193, 179, 207), (87, 79, 94), (61, 55, 67), (42, 32, 51), (49, 44, 70), (77, 60, 92), (105, 96, 123), (111, 95, 124), (82, 68, 62), (156, 145, 172), (212, 197, 225), (62, 54, 70), (86, 78, 104), (154, 45, 93), (112, 94, 127), (60, 46, 73), (35, 31, 39), (121, 104, 135), (212, 198, 226), (157, 141, 63), (123, 113, 132), (104, 90, 116), (49, 34, 61), (109, 98, 73), (180, 165, 66), (101, 83, 115), (113, 103, 129), (109, 99, 74), (83, 61, 112), (158, 49, 89), (44, 37, 49), (86, 66, 107), (187, 174, 201), (95, 76, 115), (122, 108, 113), (52, 34, 62), (228, 214, 71), (89, 36, 57), (150, 42, 96), (44, 21, 46), (71, 53, 82), (34, 28, 40), (152, 141, 166), (126, 117, 139), (65, 50, 78), (126, 116, 143), (110, 101, 128), (109, 37, 76), (38, 33, 59), (48, 36, 59), (68, 48, 90), (121, 111, 129), (129, 119, 146), (70, 52, 90), (135, 121, 152), (71, 51, 93), (134, 117, 151), (83, 65, 95), (79, 72, 86), (70, 53, 54), (153, 49, 85), (48, 32, 61), (127, 117, 141), (59, 50, 66), (157, 145, 167), (33, 26, 39), (76, 65, 85), (149, 46, 111), (51, 39, 65), (124, 114, 135), (118, 102, 59), (36, 25, 39), (159, 148, 170), (157, 48, 90), (76, 68, 95), (70, 63, 76), (150, 139, 163), (124, 115, 136), (211, 197, 224), (141, 130, 156), (36, 26, 40), (76, 69, 96), (120, 104, 134), (112, 95, 59), (95, 87, 114), (52, 34, 52), (43, 38, 64), (80, 58, 107), (49, 33, 63), (75, 58, 55), (58, 52, 64), (32, 28, 37), (130, 64, 109), (52, 40, 68), (65, 31, 55), (94, 75, 113), (81, 69, 90), (110, 101, 118), (91, 78, 102), (131, 123, 82), (69, 51, 54), (152, 54, 93), (70, 63, 89), (109, 100, 127), (61, 43, 72), (177, 165, 192), (109, 92, 123), (188, 186, 110), (87, 40, 82), (48, 34, 60), (96, 89, 105), (33, 28, 38), (140, 124, 62), (165, 83, 140), (174, 162, 186), (80, 63, 55), (74, 59, 88), (72, 51, 91), (126, 108, 142), (130, 120, 139), (75, 64, 84), (85, 78, 93), (88, 65, 115), (70, 52, 93), (182, 169, 193), (108, 90, 122), (82, 66, 95), (75, 57, 81), (75, 67, 94), (67, 49, 87), (29, 23, 32), (50, 39, 65), (40, 34, 60), (114, 105, 127), (92, 74, 110), (96, 78, 109), (131, 120, 147), (59, 41, 69), (166, 154, 182), (153, 44, 94), (222, 208, 70), (111, 93, 128), (159, 148, 173), (65, 56, 74), (175, 159, 191), (133, 123, 150), (100, 38, 62), (48, 42, 55), (98, 90, 116), (124, 106, 139), (87, 69, 99), (109, 40, 66), (109, 100, 117), (83, 76, 90), (216, 201, 70), (97, 83, 108), (107, 92, 120), (117, 100, 130), (45, 27, 51), (161, 149, 171), (32, 27, 39), (100, 86, 111), (67, 61, 74), (32, 24, 33), (117, 101, 131), (134, 124, 148), (97, 79, 110), (103, 92, 71), (125, 115, 141), (107, 43, 83), (119, 110, 128), (71, 55, 84), (45, 31, 57), (41, 26, 37), (30, 25, 34), (138, 23, 93), (50, 28, 41), (73, 43, 107), (82, 35, 61), (138, 127, 150), (107, 88, 127), (117, 96, 137), (91, 72, 110), (83, 75, 102), (116, 100, 59), (59, 30, 45), (64, 57, 83), (174, 161, 189), (108, 100, 125), (48, 42, 68), (71, 50, 90), (138, 128, 151), (102, 39, 68), (190, 177, 205), (97, 75, 117), (104, 76, 128), (62, 45, 53), (110, 93, 58), (140, 27, 96), (187, 172, 66), (53, 28, 42), (132, 53, 108), (49, 28, 50), (50, 45, 71), (81, 60, 101), (157, 146, 173), (99, 79, 116), (140, 28, 97), (73, 56, 54), (62, 30, 46), (60, 30, 53), (72, 65, 78), (153, 130, 93), (71, 32, 50), (110, 94, 58), (74, 54, 98), (130, 119, 146), (98, 90, 106), (72, 66, 79), (49, 31, 60), (165, 153, 180), (64, 49, 56), (67, 37, 80), (133, 45, 77), (181, 166, 66), (125, 58, 113), (184, 171, 198), (92, 73, 112), (139, 129, 152), (46, 36, 58), (45, 38, 50), (96, 76, 115), (144, 129, 62), (114, 96, 130), (188, 175, 202), (107, 98, 125), (123, 106, 138), (108, 40, 65), (72, 65, 91), (92, 84, 99), (38, 28, 49), (144, 133, 153), (88, 68, 106), (214, 200, 228), (83, 60, 112), (37, 29, 45), (90, 77, 66), (196, 182, 208), (170, 158, 181), (144, 134, 154), (70, 55, 83), (40, 26, 36), (157, 64, 125), (149, 133, 62), (49, 28, 40), (154, 50, 86), (34, 27, 40), (77, 66, 86), (189, 176, 203), (64, 45, 76), (61, 41, 82), (110, 92, 124), (134, 116, 152), (73, 55, 84), (73, 66, 93), (220, 206, 70), (154, 45, 92), (153, 131, 163), (105, 97, 123), (80, 60, 100), (50, 33, 64), (212, 198, 225), (61, 30, 45), (112, 95, 127), (123, 113, 131), (97, 89, 104), (149, 143, 89), (131, 121, 148), (81, 59, 109), (29, 25, 34), (50, 34, 65), (101, 83, 114), (96, 88, 115), (123, 114, 132), (109, 99, 73), (107, 98, 115), (76, 59, 55), (61, 52, 68), (35, 28, 41), (71, 61, 80), (97, 70, 126), (45, 37, 53), (155, 150, 91), (113, 104, 129), (69, 53, 83), (78, 67, 88), (53, 41, 69), (158, 50, 89), (95, 76, 114), (87, 79, 106), (117, 107, 132), (62, 43, 73), (178, 165, 193), (119, 63, 117), (64, 31, 47), (171, 159, 184), (71, 64, 90), (103, 77, 128), (114, 95, 132), (136, 126, 150), (60, 39, 82), (104, 82, 124), (78, 58, 97), (56, 39, 53), (85, 64, 105), (69, 49, 90), (82, 60, 111), (139, 121, 156), (94, 74, 113), (44, 26, 52), (81, 67, 62), (34, 29, 39), (136, 48, 86), (51, 44, 58), (58, 45, 69), (218, 204, 70), (87, 68, 104), (79, 72, 85), (103, 88, 115), (60, 54, 66), (110, 94, 123), (33, 26, 38), (118, 108, 133), (105, 97, 113), (93, 80, 104), (153, 50, 85), (48, 33, 61), (209, 194, 221), (183, 170, 194), (37, 31, 57), (59, 51, 66), (118, 109, 134), (103, 89, 115), (163, 151, 179), (150, 139, 162), (52, 46, 57), (157, 49, 90), (202, 188, 216), (76, 69, 95), (76, 61, 91), (83, 62, 102), (51, 33, 62), (221, 206, 234), (95, 87, 113), (156, 53, 91), (92, 72, 110), (121, 103, 136), (95, 79, 109), (186, 173, 200), (139, 128, 150), (54, 49, 60), (213, 199, 69), (59, 42, 74), (160, 72, 131), (42, 24, 48), (132, 122, 141), (106, 98, 114), (50, 33, 67), (87, 75, 98), (93, 72, 113), (94, 81, 106), (152, 146, 90), (91, 78, 101), (67, 52, 57), (42, 28, 54), (176, 107, 158), (61, 54, 81), (69, 51, 89), (87, 70, 104), (125, 116, 137), (152, 140, 168), (196, 183, 210), (98, 80, 111), (59, 38, 81), (31, 26, 35), (58, 49, 65), (32, 25, 38), (213, 187, 220), (67, 32, 56), (84, 76, 103), (34, 28, 42), (165, 161, 95), (128, 111, 60), (113, 91, 134), (119, 110, 137), (59, 53, 65), (33, 29, 38), (140, 125, 62), (126, 108, 141), (111, 102, 119), (85, 78, 92), (47, 32, 59), (92, 79, 103), (98, 76, 118), (40, 31, 49), (78, 57, 104), (50, 28, 50), (64, 47, 79), (108, 90, 121), (75, 65, 84), (51, 33, 52), (65, 46, 82), (125, 37, 86), (95, 67, 125), (95, 87, 103), (48, 29, 58), (88, 66, 115), (119, 103, 133), (100, 80, 117), (74, 57, 55), (147, 136, 157), (33, 26, 41), (199, 184, 68), (97, 81, 57), (47, 33, 59), (157, 52, 90), (118, 100, 132), (139, 123, 61), (33, 28, 50), (166, 154, 181), (145, 129, 62), (85, 77, 104), (153, 44, 93), (82, 62, 101), (140, 26, 96), (93, 74, 112), (76, 20, 57), (120, 103, 135), (51, 32, 64), (92, 71, 112), (42, 23, 51), (146, 128, 163), (127, 118, 85), (179, 164, 66), (216, 202, 70), (142, 129, 159), (38, 29, 45), (41, 37, 46), (156, 141, 63), (91, 62, 123), (125, 115, 140), (145, 134, 154), (142, 59, 100), (94, 75, 115), (227, 213, 71), (164, 160, 95), (162, 147, 64), (47, 40, 53), (155, 143, 165), (129, 119, 138), (74, 63, 83), (82, 74, 88), (84, 72, 95), (110, 82, 106), (69, 48, 87), (116, 106, 132), (137, 20, 91), (151, 140, 166), (207, 192, 219), (57, 49, 64), (31, 25, 37), (107, 89, 121), (176, 172, 110), (209, 195, 223), (147, 137, 112), (126, 107, 144), (58, 40, 69), (145, 130, 161), (108, 93, 121), (58, 51, 78), (39, 33, 59), (85, 62, 115), (49, 28, 49), (97, 76, 117), (109, 44, 84), (152, 43, 94), (81, 60, 100), (74, 67, 94), (137, 126, 113), (72, 51, 93), (172, 159, 182), (141, 130, 112), (90, 70, 108), (53, 29, 42), (120, 111, 129), (94, 87, 102), (126, 108, 144), (107, 85, 128), (143, 44, 100), (99, 80, 116), (127, 42, 80), (198, 184, 210), (98, 90, 105), (172, 160, 183), (108, 90, 124), (103, 83, 119), (131, 119, 148), (49, 43, 69), (72, 62, 80), (62, 53, 69), (140, 129, 156), (92, 74, 112), (98, 71, 127), (156, 48, 91), (141, 117, 150), (65, 31, 47), (117, 42, 70), (93, 74, 115), (74, 33, 51), (171, 166, 111), (110, 18, 75), (70, 32, 57), (79, 58, 97), (107, 99, 125), (38, 28, 48), (167, 88, 143), (214, 200, 227), (62, 44, 78), (37, 29, 44), (79, 59, 98), (176, 117, 164), (152, 50, 87), (117, 100, 132), (132, 109, 141), (90, 77, 101), (90, 78, 66), (188, 172, 203), (209, 195, 69), (129, 44, 75), (180, 167, 191), (134, 124, 150), (128, 119, 137), (154, 143, 164), (73, 63, 82), (154, 50, 85), (67, 60, 80), (115, 106, 131), (41, 36, 53), (86, 35, 56), (47, 39, 55), (138, 46, 79), (60, 36, 85), (106, 89, 120), (119, 109, 134), (56, 38, 53), (92, 84, 111), (138, 127, 152), (129, 47, 85), (73, 66, 92), (57, 51, 77), (138, 128, 153), (33, 24, 37), (63, 45, 80), (106, 84, 126), (80, 60, 99), (67, 49, 79), (53, 47, 58), (106, 85, 127), (56, 37, 66), (50, 34, 64), (93, 73, 110), (96, 88, 114), (141, 47, 81), (88, 75, 98), (158, 66, 127), (105, 90, 118), (43, 33, 52), (150, 49, 85), (122, 105, 137), (46, 41, 54), (159, 147, 169), (133, 123, 142), (78, 67, 87), (107, 99, 115), (88, 76, 99), (90, 69, 115), (98, 38, 61), (111, 44, 84), (104, 95, 121), (185, 172, 196), (180, 177, 110), (85, 69, 98), (133, 45, 79), (107, 40, 65), (44, 39, 49), (66, 49, 87), (28, 23, 32), (142, 47, 83), (108, 84, 132), (139, 129, 154), (116, 42, 69), (46, 28, 56), (38, 31, 48), (62, 55, 82), (75, 60, 60), (88, 71, 105), (169, 156, 184), (97, 89, 116), (143, 132, 157), (125, 44, 73), (121, 111, 78), (46, 40, 66), (82, 60, 110), (44, 26, 51), (81, 74, 100), (110, 40, 66), (175, 172, 99), (82, 75, 89), (56, 51, 62), (106, 91, 119), (53, 34, 73), (112, 69, 122), (119, 42, 70), (57, 51, 67), (60, 40, 81), (144, 133, 155), (89, 77, 100), (88, 68, 108), (206, 191, 68), (48, 30, 49), (128, 44, 74), (205, 191, 217), (31, 24, 34), (48, 33, 60), (60, 55, 66), (115, 99, 59), (122, 112, 130), (148, 142, 88), (72, 38, 80), (96, 88, 104), (82, 51, 118), (163, 151, 178), (70, 49, 90), (31, 27, 44), (198, 185, 212), (72, 53, 96), (152, 137, 63), (61, 40, 83), (148, 137, 158), (122, 113, 131), (61, 44, 53), (163, 152, 179), (119, 101, 133), (70, 50, 91), (104, 95, 111), (173, 161, 189), (43, 37, 48), (131, 45, 76), (86, 78, 105), (54, 35, 75), (181, 117, 165), (67, 47, 85), (86, 69, 56), (51, 45, 71), (107, 96, 72), (121, 104, 136), (87, 75, 97), (190, 138, 182), (94, 81, 105), (104, 90, 117), (120, 103, 59), (88, 75, 65), (97, 80, 57), (158, 147, 168), (29, 25, 36), (142, 131, 151), (103, 81, 123), (222, 207, 70), (123, 114, 134), (194, 180, 205), (44, 37, 50), (43, 22, 46), (142, 132, 152), (73, 54, 98), (43, 25, 51), (143, 47, 81), (113, 96, 127), (59, 38, 80), (220, 205, 233), (194, 181, 206), (138, 48, 104), (108, 72, 125), (61, 55, 81), (156, 148, 112), (52, 34, 63), (89, 36, 58), (191, 176, 67), (48, 41, 54), (59, 39, 81), (71, 53, 83), (113, 36, 81), (171, 159, 186), (152, 49, 84), (65, 59, 79), (89, 60, 122), (58, 50, 65), (32, 26, 38), (133, 118, 151), (142, 128, 159), (78, 58, 99), (125, 46, 85), (44, 26, 54), (147, 43, 109), (73, 57, 86), (95, 87, 102), (69, 63, 75), (30, 26, 42), (48, 32, 62), (153, 141, 169), (91, 71, 109), (33, 26, 40), (95, 68, 125), (76, 65, 86), (63, 47, 83), (177, 109, 159), (118, 108, 135), (88, 67, 115), (145, 128, 160), (42, 36, 48), (147, 137, 157), (41, 24, 49), (131, 121, 140), (86, 74, 97), (122, 112, 133), (157, 48, 91), (108, 36, 77), (176, 163, 191), (68, 61, 74), (118, 101, 131), (153, 45, 93), (66, 47, 84), (60, 42, 71), (179, 113, 163), (85, 55, 120), (60, 53, 80), (104, 96, 122), (34, 29, 54), (58, 37, 80), (79, 62, 55), (204, 189, 68), (101, 82, 118), (191, 141, 184), (118, 97, 138), (110, 101, 119), (81, 69, 91), (165, 148, 181), (194, 194, 107), (151, 52, 116), (64, 55, 72), (84, 72, 94), (98, 79, 112), (70, 63, 90), (77, 56, 103), (65, 54, 75), (39, 30, 48), (46, 31, 59), (35, 30, 56), (31, 25, 36), (107, 89, 120), (125, 116, 139), (117, 98, 132), (155, 144, 165), (129, 120, 138), (74, 64, 83), (84, 73, 95), (66, 59, 71), (40, 35, 44), (116, 107, 132), (102, 77, 129), (39, 31, 49), (31, 26, 37), (107, 90, 121), (67, 61, 85), (161, 150, 177), (109, 44, 83), (59, 43, 54), (74, 67, 93), (58, 52, 78), (221, 207, 70), (72, 51, 92), (90, 70, 107), (146, 135, 155), (126, 108, 143), (199, 183, 213), (209, 194, 69), (107, 91, 58), (152, 44, 94), (99, 80, 115), (83, 32, 66), (72, 52, 93), (80, 62, 96), (70, 52, 94), (90, 71, 108), (148, 49, 87), (187, 184, 110), (104, 96, 112), (78, 72, 85), (91, 70, 111), (155, 139, 63), (190, 189, 105), (156, 145, 166), (127, 46, 85), (42, 35, 50), (48, 32, 65), (173, 160, 186), (40, 34, 61), (89, 68, 106), (166, 150, 64), (59, 41, 70), (175, 163, 190), (118, 100, 134), (59, 52, 79), (181, 178, 110), (122, 103, 137), (117, 42, 69), (127, 109, 146), (29, 24, 33), (109, 85, 133), (76, 61, 60), (57, 37, 79), (69, 51, 81), (55, 49, 60), (72, 43, 106), (117, 108, 135), (161, 149, 172), (58, 30, 44), (100, 86, 112), (45, 30, 57), (57, 52, 63), (141, 46, 102), (143, 136, 87), (135, 125, 144), (125, 115, 142), (119, 110, 129), (90, 78, 101), (76, 56, 102), (68, 51, 90), (143, 126, 159), (30, 25, 35), (80, 73, 96), (129, 45, 75), (109, 93, 114), (197, 197, 108), (197, 183, 210), (78, 57, 96), (129, 119, 140), (98, 79, 115), (92, 83, 65), (116, 98, 130), (64, 57, 84), (75, 68, 81), (49, 44, 54), (139, 48, 103), (51, 43, 57), (30, 26, 35), (199, 186, 213), (125, 107, 142), (79, 34, 53), (80, 61, 99), (41, 25, 50), (141, 47, 80), (127, 111, 60), (87, 65, 115), (116, 94, 137), (90, 70, 110), (108, 89, 125), (75, 44, 110), (120, 111, 131), (46, 41, 53), (88, 76, 98), (47, 32, 64), (198, 184, 212), (172, 160, 185), (162, 158, 94), (77, 59, 94), (121, 102, 136), (117, 108, 125), (91, 84, 98), (36, 28, 43), (44, 39, 48), (159, 51, 87), (28, 23, 31), (76, 31, 63), (149, 138, 165), (45, 38, 51), (51, 35, 66), (94, 82, 110), (74, 55, 99), (122, 102, 139), (36, 29, 44), (77, 55, 96), (54, 48, 59), (28, 24, 32), (169, 153, 65), (195, 182, 207), (188, 175, 203), (106, 97, 113), (80, 73, 86), (35, 26, 43), (72, 54, 83), (72, 65, 92), (158, 140, 174), (79, 58, 99), (121, 69, 116), (53, 34, 72), (184, 138, 179), (59, 36, 79), (108, 100, 116), (95, 74, 115), (106, 92, 119), (31, 24, 33), (79, 59, 100), (69, 54, 58), (46, 26, 59), (160, 149, 170), (170, 158, 182), (88, 69, 108), (70, 55, 84), (40, 26, 37), (45, 27, 55), (115, 105, 132), (148, 44, 110), (89, 72, 56), (49, 28, 41), (96, 88, 103), (154, 143, 166), (128, 119, 139), (154, 50, 87), (115, 106, 133), (94, 64, 111), (128, 118, 143), (34, 27, 41), (77, 66, 87), (96, 69, 126), (178, 110, 160), (51, 42, 60), (119, 109, 136), (60, 52, 68), (197, 182, 68), (82, 75, 101), (138, 127, 154), (73, 55, 85), (43, 26, 38), (57, 39, 68), (173, 161, 188), (119, 102, 133), (54, 35, 74), (120, 43, 71), (52, 28, 42), (88, 80, 94), (62, 56, 67), (49, 32, 52), (110, 44, 84), (80, 60, 101), (69, 62, 75), (43, 38, 48), (61, 30, 46), (168, 164, 96), (29, 25, 35), (93, 73, 112), (111, 92, 127), (141, 60, 102), (123, 114, 133), (120, 104, 59), (43, 22, 45), (43, 33, 54), (211, 195, 224), (61, 52, 69), (35, 28, 42), (157, 142, 63), (113, 104, 130), (52, 43, 62), (102, 83, 119), (44, 38, 50), (120, 102, 134), (35, 29, 43), (166, 149, 182), (66, 46, 84), (54, 36, 52), (54, 47, 61), (71, 64, 91), (191, 177, 67), (162, 150, 178), (36, 31, 57), (32, 26, 37), (143, 132, 159), (104, 82, 125), (41, 36, 45), (154, 148, 91), (132, 115, 149), (73, 33, 51), (81, 63, 93), (102, 85, 57), (94, 74, 114), (30, 24, 32), (82, 35, 55), (205, 190, 218), (44, 38, 63), (91, 71, 108), (80, 48, 117), (205, 191, 219), (50, 41, 59), (93, 80, 105), (207, 175, 210), (42, 36, 47), (71, 53, 95), (59, 51, 67), (76, 33, 52), (209, 194, 222), (86, 74, 96), (118, 109, 135), (85, 35, 56), (58, 42, 73), (82, 65, 55), (93, 84, 111), (80, 65, 62), (33, 27, 39), (131, 122, 140), (141, 131, 152), (68, 61, 73), (94, 37, 60), (128, 110, 142), (42, 37, 47), (119, 101, 135), (121, 112, 137), (94, 86, 101), (68, 62, 74), (34, 29, 53), (190, 175, 67), (186, 173, 201), (60, 54, 80), (110, 86, 133), (153, 138, 63), (140, 133, 85), (42, 24, 49), (67, 51, 57), (132, 122, 142), (89, 68, 115), (50, 33, 68), (58, 38, 80), (156, 138, 172), (80, 59, 108), (118, 97, 137), (142, 131, 153), (93, 73, 115), (42, 28, 55), (165, 149, 181), (43, 22, 48), (68, 61, 86), (46, 31, 58), (75, 54, 93), (117, 106, 135), (43, 25, 53), (98, 80, 112), (70, 64, 90), (110, 94, 114), (39, 31, 48), (47, 41, 51), (31, 26, 36), (66, 60, 71), (41, 35, 47), (117, 99, 131), (50, 45, 55), (142, 57, 101), (37, 32, 49), (31, 27, 36), (90, 72, 103), (154, 142, 163), (121, 111, 132), (113, 72, 121), (97, 78, 111), (67, 54, 80), (65, 46, 83), (169, 92, 146), (123, 60, 114), (48, 32, 64), (92, 75, 106), (66, 51, 79), (127, 117, 144), (147, 136, 158), (157, 145, 170), (54, 34, 71), (118, 100, 133), (85, 67, 92), (80, 59, 98), (90, 68, 110), (89, 69, 106), (59, 53, 79), (85, 68, 56), (116, 65, 119), (150, 139, 166), (124, 115, 139), (69, 51, 80), (66, 47, 86), (122, 104, 136), (76, 62, 60), (39, 34, 43), (139, 128, 154), (142, 48, 86), (140, 127, 157), (42, 24, 52), (75, 39, 81), (126, 116, 136), (97, 88, 115), (123, 104, 138), (97, 80, 111), (116, 106, 133), (69, 48, 88), (100, 91, 118), (151, 140, 167), (46, 31, 61), (207, 192, 220), (181, 168, 193), (57, 49, 65), (31, 25, 38), (81, 65, 95), (55, 41, 68), (155, 144, 167), (56, 50, 61), (30, 26, 34), (116, 107, 134), (40, 35, 46), (151, 49, 85), (47, 41, 54), (82, 70, 91), (67, 58, 76), (89, 76, 99), (99, 85, 111), (44, 29, 56), (39, 33, 60), (137, 21, 92), (67, 61, 87), (108, 89, 124), (90, 41, 82), (130, 120, 142), (143, 44, 101), (217, 202, 230), (191, 178, 203), (47, 32, 63), (121, 111, 135), (172, 160, 184), (169, 165, 97), (182, 169, 196), (47, 29, 57), (43, 36, 48), (156, 145, 168), (50, 32, 60), (72, 62, 81), (79, 63, 92), (105, 87, 119), (62, 53, 70), (36, 29, 43), (45, 39, 51), (82, 40, 81), (67, 50, 54), (124, 114, 141), (55, 37, 52), (38, 33, 42), (110, 70, 123), (94, 76, 107), (29, 24, 35), (59, 45, 78), (78, 61, 55), (90, 82, 96), (64, 58, 69), (120, 103, 139), (124, 107, 138), (66, 48, 54), (105, 83, 126), (52, 37, 64), (83, 35, 55), (118, 17, 79), (133, 116, 150), (78, 60, 95), (45, 27, 54), (155, 50, 86), (92, 37, 59), (126, 110, 60), (45, 30, 59), (134, 124, 151), (154, 143, 165), (157, 65, 126), (123, 103, 140), (115, 106, 132), (114, 97, 59), (45, 31, 60), (126, 116, 139), (106, 89, 121), (72, 55, 54), (129, 45, 77), (61, 42, 78), (68, 48, 86), (78, 57, 98), (115, 99, 129), (60, 42, 53), (144, 49, 87), (116, 98, 132), (95, 37, 60), (57, 51, 78), (119, 102, 132), (164, 152, 180), (104, 39, 64), (74, 55, 88), (115, 94, 135), (89, 70, 108), (101, 84, 110), (148, 56, 96), (41, 25, 52), (27, 23, 31), (154, 138, 63), (189, 188, 105), (95, 83, 68), (131, 115, 61), (36, 25, 35), (189, 136, 180), (146, 135, 160), (63, 42, 84), (141, 134, 86), (133, 123, 143), (157, 139, 173), (98, 38, 62), (43, 27, 46), (204, 190, 216), (104, 95, 122), (56, 38, 67), (77, 60, 55), (104, 87, 118), (211, 196, 224), (61, 53, 69), (185, 172, 197), (195, 195, 107), (97, 71, 127), (85, 69, 99), (66, 46, 83), (105, 86, 121), (110, 73, 123), (66, 49, 88), (60, 44, 75), (28, 23, 33), (63, 37, 90), (169, 157, 181), (63, 57, 68), (43, 30, 56), (101, 81, 118), (48, 27, 40), (162, 151, 178), (89, 67, 115), (99, 91, 106), (151, 50, 87), (134, 46, 77), (44, 30, 58), (117, 45, 84), (91, 73, 104), (54, 36, 64), (170, 158, 184), (47, 27, 49), (146, 40, 106), (80, 49, 117), (68, 47, 89), (148, 142, 89), (137, 46, 78), (37, 32, 58), (196, 182, 67), (167, 155, 178), (141, 131, 151), (67, 52, 80), (128, 118, 145), (110, 91, 126), (122, 113, 132), (42, 37, 46), (146, 48, 82), (219, 204, 232), (119, 101, 134), (104, 95, 112), (91, 69, 111), (43, 37, 49), (99, 42, 83), (156, 144, 166), (130, 114, 60), (94, 67, 123), (84, 63, 102), (56, 41, 68), (40, 25, 51), (78, 71, 84), (52, 47, 57), (51, 45, 72), (41, 29, 53), (102, 87, 114), (63, 37, 80), (85, 73, 95), (35, 25, 34), (151, 135, 63), (42, 26, 45), (67, 48, 87), (29, 25, 37), (97, 38, 61), (103, 81, 124), (149, 49, 84), (210, 196, 223), (43, 22, 47), (78, 70, 97), (68, 53, 81), (106, 40, 65), (158, 51, 88), (42, 29, 55), (58, 35, 82), (213, 199, 226), (133, 123, 146), (113, 96, 128), (102, 83, 121), (94, 86, 113), (120, 102, 136), (57, 36, 78), (49, 31, 66), (166, 110, 156), (185, 172, 200), (195, 180, 67), (136, 18, 89), (47, 27, 39), (146, 40, 96), (178, 166, 191), (210, 181, 215), (66, 50, 56), (133, 120, 113), (41, 35, 46), (45, 40, 66), (166, 84, 140), (152, 49, 85), (152, 141, 168), (136, 126, 153), (58, 50, 66), (62, 47, 82), (31, 27, 35), (90, 72, 102), (39, 28, 50), (187, 185, 104), (99, 38, 67), (60, 36, 79), (34, 30, 38), (160, 148, 175), (30, 24, 34), (45, 25, 58), (112, 103, 119), (149, 40, 97), (119, 42, 74), (117, 95, 137), (109, 90, 125), (151, 139, 167), (63, 45, 74), (174, 160, 189), (192, 179, 204), (92, 76, 106), (50, 44, 66), (41, 24, 50), (183, 170, 197), (83, 67, 99), (119, 45, 84), (102, 93, 120), (40, 28, 51), (64, 44, 81), (74, 53, 93), (150, 50, 87), (110, 91, 129), (118, 101, 132), (102, 94, 121), (128, 110, 144), (141, 130, 158), (73, 55, 54), (83, 63, 101), (54, 31, 73), (40, 29, 52), (101, 87, 113), (111, 96, 125), (61, 55, 72), (117, 107, 125), (69, 63, 89), (66, 48, 86), (127, 119, 80), (104, 86, 115), (139, 47, 79), (79, 61, 91), (42, 24, 51), (158, 146, 171), (42, 36, 62), (53, 38, 65), (114, 104, 130), (142, 131, 155), (101, 83, 120), (56, 36, 77), (68, 50, 79), (100, 91, 117), (37, 25, 35), (104, 34, 76), (197, 184, 209), (68, 61, 88), (76, 58, 96), (90, 73, 56), (117, 98, 133), (155, 144, 166), (48, 40, 57), (215, 200, 69), (66, 59, 72), (40, 35, 45), (79, 57, 98), (116, 99, 129), (113, 97, 59), (207, 193, 220), (67, 58, 75), (107, 90, 122), (118, 108, 126), (62, 43, 79), (99, 85, 110), (160, 51, 88), (34, 25, 34), (116, 100, 130), (117, 99, 133), (118, 109, 127), (99, 86, 111), (40, 36, 45), (153, 148, 91), (44, 25, 57), (132, 63, 107), (116, 95, 136), (82, 74, 101), (172, 157, 65), (81, 62, 102), (65, 46, 85), (83, 65, 100), (192, 178, 206), (100, 80, 120), (187, 130, 176), (101, 93, 119), (147, 136, 160), (192, 179, 207), (105, 88, 119), (140, 130, 157), (115, 93, 135), (49, 37, 61), (74, 38, 80), (159, 148, 175), (197, 180, 80), (29, 24, 34), (67, 50, 89), (100, 91, 107), (124, 115, 141), (55, 38, 52), (92, 71, 115), (122, 104, 138), (43, 28, 56), (39, 34, 45), (54, 46, 61), (178, 165, 189), (104, 86, 118), (139, 128, 156), (88, 70, 101), (100, 92, 107), (146, 42, 99), (132, 122, 147), (103, 76, 128), (106, 97, 124), (126, 116, 138), (123, 104, 140), (152, 55, 94), (78, 57, 97), (115, 99, 128), (129, 119, 141), (165, 99, 149), (81, 50, 118), (98, 79, 116), (90, 82, 108), (216, 201, 229), (116, 98, 131), (87, 67, 105), (63, 51, 75), (69, 48, 90), (181, 168, 195), (155, 46, 92), (131, 54, 109), (83, 66, 55), (117, 98, 136), (37, 27, 47), (65, 49, 86), (127, 117, 136), (101, 93, 109), (71, 53, 54), (114, 91, 135), (100, 42, 83), (41, 25, 51), (82, 32, 66), (162, 108, 153), (155, 47, 92), (96, 82, 107), (53, 48, 58), (130, 120, 144), (79, 68, 88), (191, 178, 205), (99, 80, 119), (172, 160, 186), (66, 47, 78), (142, 126, 62), (80, 62, 100), (58, 36, 79), (136, 50, 105), (100, 84, 57), (92, 41, 82), (159, 51, 88), (75, 68, 95), (169, 157, 180), (56, 42, 72), (88, 71, 56), (79, 71, 98), (69, 54, 82), (202, 188, 68), (122, 102, 140), (114, 105, 132), (186, 172, 200), (174, 102, 154), (28, 24, 33), (125, 115, 133), (106, 97, 114), (49, 28, 65), (39, 26, 36), (61, 50, 71), (148, 133, 62), (42, 27, 55), (35, 26, 44), (129, 55, 110), (38, 33, 44), (70, 60, 79), (86, 65, 104), (96, 74, 116), (46, 41, 67), (114, 98, 128), (63, 54, 70), (87, 70, 100), (159, 144, 64), (69, 50, 89), (97, 84, 109), (68, 52, 81), (167, 163, 96), (161, 149, 176), (32, 27, 44), (155, 50, 88), (180, 167, 194), (87, 65, 106), (128, 119, 140), (115, 98, 130), (60, 30, 45), (30, 25, 39), (101, 89, 70), (133, 52, 108), (47, 29, 49), (47, 42, 68), (53, 46, 60), (119, 102, 134), (103, 94, 121), (77, 62, 90), (88, 80, 95), (112, 96, 125), (113, 97, 114), (140, 129, 149), (84, 64, 102), (92, 74, 105), (95, 82, 106), (40, 26, 51), (114, 105, 122), (208, 177, 212), (102, 88, 114), (36, 32, 40), (112, 97, 126), (151, 43, 95), (53, 36, 51), (124, 43, 73), (149, 49, 83), (81, 34, 54), (50, 35, 62), (102, 42, 83), (158, 51, 87), (103, 82, 124), (121, 101, 139), (113, 104, 131), (159, 147, 172), (94, 86, 112), (204, 190, 218), (120, 102, 135), (142, 32, 101), (185, 172, 199), (178, 166, 190), (52, 47, 69), (130, 112, 148), (49, 32, 66), (71, 42, 104), (53, 35, 63), (76, 55, 95), (69, 62, 89), (94, 41, 82), (134, 124, 143), (85, 65, 103), (41, 36, 46), (115, 106, 124), (125, 115, 136), (194, 178, 209), (120, 99, 138), (135, 16, 88), (119, 109, 127), (93, 85, 100), (94, 74, 115), (134, 46, 79), (133, 63, 107), (77, 70, 84), (51, 46, 57), (93, 37, 59), (48, 30, 52), (44, 38, 64), (59, 36, 83), (170, 157, 185), (200, 199, 109), (100, 82, 113), (87, 69, 107), (55, 40, 67), (63, 56, 82), (160, 149, 174), (170, 158, 186), (40, 34, 45), (111, 41, 67), (176, 164, 187), (50, 37, 62), (137, 127, 154), (33, 27, 40), (131, 122, 141), (74, 53, 92), (141, 131, 153), (200, 186, 68), (157, 146, 168), (153, 54, 93), (110, 91, 128), (102, 94, 120), (148, 137, 161), (128, 110, 143), (66, 53, 78), (113, 104, 121), (87, 80, 94), (64, 45, 81), (100, 78, 120), (121, 112, 138), (111, 96, 124), (74, 54, 93), (157, 50, 87), (118, 102, 132), (128, 111, 144), (191, 177, 202), (165, 153, 175), (69, 41, 100), (57, 39, 72), (114, 41, 68), (94, 67, 125), (121, 105, 135), (123, 43, 72), (59, 48, 70), (175, 162, 186), (149, 138, 159), (115, 71, 120), (75, 59, 88), (49, 35, 61), (72, 61, 80), (101, 84, 115), (29, 25, 39), (156, 47, 91), (142, 131, 154), (43, 22, 49), (68, 61, 87), (52, 46, 72), (75, 54, 94), (203, 190, 216), (182, 119, 167), (101, 79, 121), (77, 57, 104), (68, 62, 88), (62, 44, 74), (49, 31, 68), (126, 44, 74), (215, 201, 69), (159, 121, 159), (66, 60, 72), (116, 100, 129), (91, 83, 109), (118, 109, 126), (91, 75, 105), (117, 99, 132), (84, 67, 56), (50, 45, 56), (145, 138, 87), (45, 29, 58), (67, 40, 98), (135, 46, 77), (66, 56, 74), (128, 118, 137), (102, 94, 110), (107, 35, 77), (101, 75, 128), (144, 48, 81), (95, 78, 57), (56, 48, 63), (30, 24, 36), (106, 88, 120), (80, 64, 93), (116, 97, 132), (73, 66, 88), (129, 112, 147), (41, 23, 51), (65, 47, 85), (57, 50, 77), (208, 194, 221), (148, 136, 164), (180, 136, 177), (141, 48, 86), (108, 43, 83), (127, 110, 142), (131, 121, 143), (147, 48, 82), (41, 35, 61), (57, 43, 74), (89, 69, 107), (164, 117, 159), (156, 50, 86), (226, 212, 71), (166, 151, 64), (113, 41, 68), (214, 199, 69), (55, 35, 76), (112, 96, 59), (122, 104, 137), (82, 64, 99), (77, 62, 60), (64, 37, 80), (159, 50, 89), (39, 34, 44), (177, 162, 65), (54, 46, 60), (60, 43, 75), (92, 72, 115), (104, 86, 117), (139, 128, 155), (84, 77, 91), (49, 33, 67), (98, 84, 109), (67, 32, 48), (42, 24, 53), (144, 43, 100), (96, 76, 113), (162, 150, 172), (136, 126, 145), (123, 113, 139), (98, 85, 110), (114, 96, 128), (142, 131, 157), (135, 17, 89), (81, 50, 117), (181, 168, 194), (81, 73, 100), (92, 63, 123), (219, 204, 70), (116, 99, 131), (216, 194, 225), (127, 117, 135), (101, 93, 108), (82, 70, 92), (194, 180, 67), (75, 69, 82), (65, 58, 84), (118, 108, 128), (71, 56, 58), (179, 166, 190), (100, 92, 119), (153, 142, 163), (114, 92, 135), (155, 47, 91), (48, 43, 69), (124, 59, 113), (188, 173, 67), (125, 105, 141), (82, 71, 92), (130, 120, 143), (106, 87, 122), (137, 126, 151), (93, 75, 105), (182, 169, 197), (138, 131, 85), (93, 76, 106), (75, 68, 94), (66, 48, 78), (36, 30, 40), (96, 79, 109), (53, 45, 60), (89, 68, 109), (64, 48, 84), (218, 200, 229), (122, 103, 140), (42, 27, 54), (38, 33, 43), (115, 66, 120), (143, 34, 102), (70, 60, 78), (90, 82, 97), (64, 58, 70), (77, 56, 96), (114, 98, 127), (124, 107, 139), (109, 101, 117), (86, 66, 104), (96, 75, 116), (116, 107, 125), (90, 83, 98), (213, 198, 225), (187, 174, 198), (121, 100, 139), (113, 95, 127), (87, 71, 100), (38, 30, 46), (37, 31, 42), (135, 125, 147), (145, 134, 159), (45, 39, 65), (112, 41, 67), (80, 73, 99), (126, 116, 140), (68, 48, 87), (55, 48, 75), (78, 57, 99), (175, 104, 156), (129, 119, 143), (177, 161, 193), (132, 114, 150), (87, 67, 107), (83, 53, 118), (160, 145, 64), (138, 128, 155), (62, 42, 83), (123, 109, 113), (74, 56, 85), (103, 95, 121), (129, 111, 144), (106, 86, 125), (88, 81, 95), (33, 25, 40), (59, 41, 63), (112, 97, 125), (160, 143, 176), (151, 43, 94), (27, 23, 32), (166, 154, 176), (124, 114, 132), (96, 38, 66), (172, 159, 187), (52, 44, 58), (65, 42, 84), (102, 84, 115), (63, 42, 85), (130, 120, 146), (124, 115, 133), (69, 59, 78), (35, 30, 39), (190, 188, 110), (79, 47, 116), (202, 188, 214), (52, 45, 59), (128, 109, 143), (102, 85, 116), (76, 61, 89), (77, 59, 97), (127, 118, 80), (96, 77, 115), (88, 80, 107), (59, 40, 75), (195, 181, 209), (69, 62, 88), (63, 57, 69), (53, 47, 73), (37, 33, 42), (113, 97, 126), (43, 30, 57), (115, 106, 123), (89, 82, 96), (125, 115, 135), (195, 182, 210), (102, 80, 122), (76, 56, 95), (136, 46, 78), (113, 98, 127), (118, 103, 114), (147, 41, 98), (86, 65, 106), (120, 100, 138), (77, 70, 83), (51, 46, 56), (151, 140, 161), (113, 94, 129), (67, 57, 75), (87, 69, 106), (103, 95, 111), (54, 36, 65), (170, 158, 185), (48, 31, 52), (34, 24, 34), (200, 200, 109), (102, 76, 129), (173, 158, 65), (59, 41, 53), (105, 76, 127), (80, 61, 92), (61, 46, 80), (148, 48, 83), (58, 29, 54), (47, 28, 51), (128, 119, 142), (54, 48, 75), (62, 37, 79), (145, 134, 162), (119, 110, 135), (133, 38, 90), (64, 46, 76), (114, 67, 120), (93, 85, 112), (159, 69, 129), (157, 50, 86), (107, 90, 58), (80, 62, 92), (128, 111, 143), (112, 103, 130), (154, 46, 92), (189, 170, 83), (40, 22, 47), (77, 70, 96), (130, 114, 61), (77, 62, 92), (56, 41, 69), (41, 29, 54), (78, 71, 85), (52, 47, 58), (83, 64, 99), (53, 35, 52), (65, 37, 80), (68, 58, 76), (110, 88, 130), (95, 38, 65), (114, 105, 124), (35, 25, 35), (40, 26, 53), (201, 187, 213), (175, 163, 186), (86, 73, 64), (68, 59, 77), (201, 186, 68), (64, 46, 53), (59, 44, 71), (46, 27, 39), (107, 73, 126), (127, 109, 142), (87, 70, 56), (140, 124, 157), (159, 147, 174), (87, 80, 106), (133, 123, 147), (95, 77, 114), (148, 40, 97), (124, 108, 60), (62, 44, 73), (57, 36, 79), (48, 42, 52), (75, 55, 94), (126, 44, 73), (43, 37, 63), (115, 42, 69), (47, 27, 40), (135, 119, 61), (45, 27, 48), (32, 27, 36), (169, 157, 185), (39, 33, 44), (58, 29, 44), (120, 111, 78), (134, 124, 145), (111, 89, 132), (53, 30, 72), (128, 118, 136), (102, 94, 109), (67, 31, 48), (83, 71, 93), (107, 87, 123), (34, 30, 39), (68, 50, 90), (116, 45, 84), (30, 24, 35), (106, 88, 119), (138, 127, 147), (112, 103, 120), (86, 79, 93), (41, 32, 50), (110, 95, 123), (206, 192, 69), (65, 48, 80), (144, 133, 160), (64, 49, 76), (138, 128, 148), (207, 191, 221), (63, 45, 75), (49, 43, 54), (55, 40, 69), (47, 35, 57), (139, 47, 103), (126, 107, 142), (41, 24, 51), (161, 110, 153), (40, 26, 43), (104, 79, 130), (87, 64, 115), (118, 101, 133), (55, 35, 75), (65, 44, 87), (68, 32, 49), (109, 87, 129), (113, 104, 123), (74, 54, 95), (100, 83, 57), (159, 50, 88), (116, 101, 114), (98, 86, 69), (42, 33, 52), (184, 171, 195), (84, 77, 90), (79, 61, 92), (91, 83, 98), (65, 59, 71), (39, 35, 44), (139, 129, 149), (51, 29, 68), (150, 55, 95), (46, 28, 51), (42, 36, 63), (58, 42, 53), (143, 132, 152), (114, 104, 131), (144, 44, 100), (80, 34, 54), (56, 36, 78), (78, 46, 116), (123, 114, 139), (43, 22, 51), (159, 151, 111), (75, 54, 96), (42, 37, 63), (186, 129, 175), (55, 47, 62), (83, 75, 89), (57, 51, 62), (117, 101, 59), (207, 193, 221), (219, 205, 70), (105, 88, 58), (100, 92, 118), (178, 147, 182), (84, 77, 103), (100, 84, 114), (114, 92, 134), (138, 22, 93), (115, 42, 72), (59, 54, 65), (109, 94, 122), (205, 191, 68), (126, 109, 141), (64, 52, 76), (163, 151, 173), (137, 127, 146), (98, 77, 118), (108, 99, 125), (115, 97, 129), (125, 106, 141), (163, 152, 174), (56, 29, 52), (71, 38, 80), (62, 44, 53), (199, 185, 211), (49, 42, 56), (173, 161, 184), (66, 48, 77), (99, 82, 113), (127, 44, 77), (118, 45, 84), (147, 136, 161), (47, 41, 67), (157, 145, 173), (53, 45, 59), (103, 85, 116), (75, 61, 90), (119, 36, 83), (36, 31, 40), (50, 44, 70), (151, 42, 95), (131, 121, 145), (89, 69, 109), (133, 117, 61), (156, 50, 88), (130, 47, 85), (137, 119, 155), (38, 34, 43), (49, 38, 63), (99, 78, 120), (116, 107, 124), (90, 83, 97), (77, 57, 96), (51, 33, 69), (46, 35, 57), (100, 92, 108), (74, 68, 81), (145, 38, 105), (79, 61, 95), (133, 47, 86), (132, 122, 148), (152, 141, 162), (126, 117, 135), (123, 105, 137), (37, 32, 42), (142, 131, 159), (89, 81, 96), (90, 82, 109), (87, 67, 106), (181, 168, 196), (55, 49, 75), (155, 144, 170), (125, 108, 140), (50, 32, 50), (65, 47, 77), (31, 26, 42), (51, 45, 56), (52, 34, 71), (39, 34, 59), (62, 43, 83), (85, 63, 115), (97, 77, 117), (185, 170, 66), (113, 68, 121), (81, 39, 81), (208, 194, 69), (53, 48, 59), (130, 120, 145), (150, 139, 159), (198, 185, 210), (69, 59, 77), (79, 68, 89), (137, 126, 153), (170, 169, 95), (121, 111, 138), (172, 160, 187), (41, 27, 54), (181, 179, 102), (102, 85, 115), (106, 82, 131), (75, 57, 87), (61, 55, 66), (105, 96, 122), (56, 50, 77), (212, 197, 224), (186, 173, 197), (56, 42, 73), (112, 94, 126), (86, 70, 99), (98, 72, 127), (73, 38, 80), (140, 48, 86), (71, 64, 77), (45, 40, 50), (96, 78, 115), (88, 81, 107), (153, 137, 63), (85, 67, 98), (134, 51, 107), (185, 169, 200), (85, 66, 102), (159, 143, 64), (194, 179, 208), (75, 53, 94), (79, 64, 95), (53, 40, 68), (45, 35, 56), (63, 54, 71), (105, 84, 125), (86, 66, 106), (113, 95, 129), (150, 42, 95), (44, 21, 45), (147, 131, 62), (151, 55, 94), (180, 167, 195), (54, 48, 74), (153, 147, 90), (88, 40, 82), (135, 125, 149), (145, 134, 161), (64, 46, 75), (126, 116, 142), (113, 90, 135), (135, 47, 86), (129, 119, 145), (76, 69, 82), (127, 117, 140), (131, 16, 86), (42, 34, 49), (40, 26, 52), (138, 61, 103), (36, 32, 41), (53, 36, 52), (57, 41, 72), (120, 110, 135), (105, 91, 118), (127, 109, 141), (111, 101, 128), (95, 86, 113), (161, 74, 132), (120, 111, 136), (111, 102, 129), (42, 23, 48), (70, 64, 76), (107, 40, 69), (58, 40, 53), (78, 71, 97), (78, 63, 93), (53, 35, 64), (169, 157, 184), (95, 41, 82), (60, 45, 79), (58, 52, 63), (32, 28, 36), (76, 56, 97), (128, 56, 111), (94, 75, 112), (110, 101, 117), (58, 41, 53), (183, 168, 66), (92, 75, 56), (58, 47, 69), (44, 38, 65), (145, 48, 83), (48, 42, 64), (100, 82, 114), (74, 58, 87), (194, 179, 67), (55, 40, 68), (63, 56, 83), (109, 100, 126), (40, 34, 46), (217, 203, 70), (200, 185, 68), (33, 28, 37), (122, 43, 71), (145, 125, 79), (50, 43, 57), (174, 162, 185), (74, 59, 87), (135, 125, 152), (85, 77, 91), (104, 80, 130), (148, 137, 162), (193, 180, 208), (119, 101, 137), (121, 112, 139), (177, 111, 161), (86, 79, 105), (57, 39, 73), (77, 59, 89), (192, 191, 106), (139, 129, 148), (138, 120, 156), (49, 35, 62), (50, 39, 64), (127, 108, 143), (201, 187, 215), (82, 61, 100), (38, 32, 43), (89, 67, 108), (43, 23, 46), (149, 49, 87), (43, 22, 50), (52, 46, 73), (183, 180, 110), (65, 56, 73), (113, 44, 84), (192, 143, 186), (133, 123, 149), (64, 37, 91), (120, 102, 139), (195, 150, 191), (75, 55, 96), (124, 106, 138), (78, 60, 91), (107, 92, 119), (121, 106, 114), (91, 83, 110), (86, 63, 115), (124, 115, 79), (122, 61, 115), (134, 123, 151), (108, 99, 124), (128, 118, 138), (99, 90, 117), (125, 106, 140), (56, 48, 64), (149, 41, 96), (101, 39, 63), (138, 127, 149), (176, 161, 65), (49, 42, 55), (117, 96, 136), (91, 72, 109), (83, 75, 101), (66, 57, 75), (33, 24, 34), (121, 43, 71), (125, 107, 140), (99, 83, 113), (66, 60, 86), (106, 89, 58), (42, 26, 38), (130, 45, 75), (41, 35, 62), (176, 164, 191), (143, 127, 62), (156, 50, 87), (49, 38, 62), (65, 44, 89), (46, 41, 51), (64, 45, 85), (108, 88, 127), (85, 72, 64), (86, 68, 99), (49, 31, 59), (165, 153, 179), (186, 170, 201), (73, 55, 93), (114, 41, 72), (60, 43, 76), (184, 171, 197), (52, 28, 50), (98, 84, 110), (105, 85, 121), (142, 47, 80), (204, 190, 68), (188, 174, 200), (123, 107, 60), (62, 47, 75), (154, 59, 121), (123, 113, 140), (37, 32, 41), (43, 29, 56), (214, 199, 227), (142, 131, 158), (110, 102, 118), (91, 79, 102), (107, 98, 124), (123, 106, 137), (163, 158, 94), (142, 132, 159), (147, 40, 97), (57, 39, 53), (73, 66, 79), (47, 42, 52), (132, 119, 150), (78, 59, 93), (52, 35, 66), (65, 47, 76), (97, 77, 116), (74, 60, 89), (115, 96, 130), (56, 28, 53), (106, 87, 123), (128, 118, 141), (144, 58, 99), (89, 81, 108), (96, 83, 108), (41, 27, 53), (40, 32, 50), (193, 179, 205), (91, 70, 115), (49, 31, 49), (51, 36, 63), (66, 48, 79), (56, 50, 76), (40, 35, 61), (36, 30, 41), (147, 136, 163), (152, 143, 112), (45, 40, 49), (64, 48, 85), (56, 43, 73), (63, 44, 84), (46, 39, 52), (85, 67, 97), (112, 95, 126), (90, 68, 115), (71, 65, 77), (29, 25, 33), (73, 53, 94), (136, 120, 61), (107, 98, 114), (81, 74, 87), (44, 26, 38), (201, 162, 200), (77, 56, 97), (112, 90, 132), (116, 107, 126), (35, 27, 44), (77, 57, 98), (169, 155, 184), (213, 198, 226), (95, 76, 113), (87, 79, 105), (85, 19, 61), (224, 210, 70), (176, 174, 100), (84, 61, 114), (85, 63, 104), (38, 30, 47), (44, 21, 44), (100, 92, 110), (104, 90, 91), (203, 166, 203), (207, 193, 69), (44, 33, 54), (123, 105, 139), (136, 125, 153), (180, 168, 195), (56, 39, 52), (88, 41, 82), (104, 87, 58), (155, 143, 171), (56, 29, 44), (64, 58, 84), (34, 29, 38), (164, 149, 64), (74, 56, 86), (50, 32, 52), (93, 80, 67), (60, 54, 65), (127, 117, 139), (110, 94, 122), (175, 159, 65), (136, 62, 105), (152, 136, 63), (229, 215, 71), (179, 166, 194), (212, 197, 69), (134, 119, 151), (47, 37, 61), (218, 203, 231), (53, 48, 61), (146, 135, 162), (102, 84, 116), (120, 111, 135), (112, 93, 128), (130, 120, 147), (223, 208, 70), (111, 102, 128), (35, 30, 40), (42, 23, 47), (110, 90, 129), (77, 45, 114), (157, 141, 172), (83, 62, 101), (94, 80, 105), (51, 33, 61), (53, 44, 63), (106, 95, 72), (92, 72, 109), (121, 103, 135), (212, 197, 226), (54, 49, 59), (53, 47, 74), (104, 89, 116), (35, 31, 40), (131, 47, 85), (173, 169, 98), (79, 31, 64), (46, 27, 50), (95, 42, 82), (158, 49, 90), (95, 75, 115), (145, 48, 82), (149, 132, 166), (150, 41, 96), (203, 189, 217), (103, 95, 112), (94, 72, 114), (44, 39, 65), (200, 186, 212), (100, 83, 114), (98, 42, 83), (92, 37, 64), (63, 57, 83), (154, 143, 170), (50, 43, 56), (89, 71, 101), (84, 76, 102), (34, 28, 41), (32, 28, 48), (135, 125, 151), (59, 53, 64), (33, 29, 37), (109, 93, 121), (126, 108, 140), (61, 42, 83), (110, 93, 125), (55, 37, 70), (138, 130, 84), (48, 36, 60), (92, 79, 102), (40, 31, 48), (150, 49, 114), (47, 29, 52), (59, 30, 53), (77, 70, 97), (86, 36, 62), (83, 65, 96), (172, 156, 65), (183, 167, 198), (125, 67, 113), (110, 88, 131), (55, 32, 76), (74, 55, 93)]


def pixel_art(
        image: PIL.Image,
        intensity: int = 1,
        cache: bool = True,
        palette: list[tuple[int]] | int = Palettes.GRAY_WHITE
    ) -> PIL.Image:
    """
    Turns the image into pixel art.
    :param image: pillow image
    :param intensity: how pixelated the image will be
    :param cache: uses more memory but does it faster
    :param palette: the color palette
    :return: pillow image
    """


    size = image.size
    image = image.resize((image.width // intensity, image.height // intensity))

    data = list(image.getdata())

    cache_data = {}
    for i, pixel in enumerate(data):
        if cache:
            if not (compressed := reduce(lambda x, y: x << 8 | y, pixel)) in cache_data:
                cache_data[compressed] = find_nearest(pixel, palette)
            data[i] = cache_data[compressed]
        else:
            data[i] = find_nearest(pixel, palette)

    image.putdata(data)

    image = image.resize(size, resample=Image.NEAREST)
    return image

